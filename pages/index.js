import Head from 'next/head';
import About from '../components/homepage/About';
import Fontpage from '../components/homepage/Fontpage';
import Link from 'next/link';
import Image from 'next/image';
import { gsap, TimelineLite, Power3 } from 'gsap';
import { useEffect, useRef } from 'react';
import { ScrollTrigger } from 'gsap/dist/ScrollTrigger';
gsap.registerPlugin(ScrollTrigger);
export default function Home({ posts }) {
  let projectText = useRef(null);

  let tl = new TimelineLite({ delay: 0.8 });
  useEffect(() => {
    const projectTextt = projectText.children[0];
    const projectTextSpan = projectText.children[1];

    tl.from(projectTextSpan, {
      duration: 5,
      opacity: 0,
      x: -50,
      scrollTrigger: {
        scrub: true,
        trigger: projectTextt,
        start: 'top bottom-=100',
        end: 'bottom bottom-=200',
        // markers: true,
      },
    });
    tl.from(projectTextt, {
      duration: 10,
      opacity: 0,
      x: 100,
      scrollTrigger: {
        scrub: true,
        trigger: projectTextt,
        start: 'top bottom-=100',
        end: 'bottom bottom-=200',
        // markers: true,
      },
    });
  });
  return (
    <>
      <Head>
        <title>ripon haldar</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/mack_herry.png' />
      </Head>
      <div className='lg:container mx-auto lg:px-0 p-5  md:px-16 z-50 '>
        <Fontpage />
        <div className=' relative'>
          <div className=' w-full flex relative overflow-hidden  z-0 '>
            <div className='scroll-text text-gray-900 text-8xl whitespace-nowrap font-domine uppercase'>
              <span>- Frontend</span> Developer <span>,Designer</span>
              <span>- Frontend</span> Developer <span>,Designer</span>
              <span>- Frontend</span> Developer <span>,Designer</span>
              <span>- Frontend</span> Developer <span>,Designer</span>
              <span>- Frontend</span> Developer <span>,Designer</span>
            </div>
          </div>
        </div>
        <About />
        {/* project parts*/}
        <div className=' mt-8'>
          <div className='relative'>
            <div className='text-3xl md:text-5xl relative  font-semibold  text-gray-800 ml-2 capitalize mb-8'>
              <p
                className='inline-block px-2 relative'
                ref={(el) => (projectText = el)}
              >
                <span className='after__ele relative z-50'>Recent Project</span>
                <span className='absolute opacity-80 bg-purple-200	w-full h-3 md:h-4 left-0 bottom-1 md:bottom-0 z-0 '></span>
              </p>
            </div>
            <div className='text-gray-800  relative md:mx-12 mx-4 px-2'>
              <div>
                {/* car worksparts*/}
                <h1>project pats</h1>
                {/* car worksparts end*/}
              </div>
            </div>
          </div>
        </div>
        {/* project parts end*/}
      </div>
    </>
  );
}
export async function getServerSideProps() {
  const res = await fetch('https://riponhaldar.github.io/json-api/db.json');
  const post = await res.json();

  return {
    props: {
      posts: post,
    },
  };
}
